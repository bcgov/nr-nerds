{"chunk":28,"numChunks":31,"fileHash":"d/sfK61LpWfXclxI64CLwQIr+HeWHt3JRwU/EIB4ZQc=","filePath":"project-board-sync/src/utils/state-verifier.js","content":"/**\nclass StateVerifier {\n  static verifyStateAspect(aspect, expected, actual) {\n    try {\n      switch (aspect) {\n        case 'column':\n          return actual?.toLowerCase() === expected?.toLowerCase();\n        case 'sprint':\n          return actual === expected;\n        case 'assignees':\n          const expectedSet = new Set(expected);\n          const actualSet = new Set(actual);\n          return expected.length === actual.length &&\n            expected.every(a => actualSet.has(a)) &&\n            actual.every(a => expectedSet.has(a));\n        default: verifierLog.warning(`Unknown state aspect: ${aspect}`);\n          return false;\n      }\n    } catch (error) {\n      verifierLog.error(`Error verifying ${aspect}: ${error.message}`);\n      return false;\n    }\n  }\n  static getRecoverySteps(aspect, expected, actual) {\n    switch (aspect) {\n      case 'column':\n        return [\n          `Verify column \"${expected}\" exists in project board`,\n          `Check column transition rules allow moving to \"${expected}\"`,\n          `Ensure required conditions are met for column transition`\n        ];\n      case 'sprint':\n        return [\n          `Verify sprint \"${expected}\" exists and is active`,\n          `Check if sprint dates are valid`,\n          `Ensure sprint is available for assignment`\n        ];\n      case 'assignees':\n        const missing = expected.filter(a => !actual.includes(a));\n        const extra = actual.filter(a => !expected.includes(a));\n        const steps = [];\n        if (missing.length > 0) {\n          steps.push(`Add missing assignees: ${missing.join(', ')}`);\n        }\n        if (extra.length > 0) {\n          steps.push(`Remove extra assignees: ${extra.join(', ')}`);\n        }\n        return steps;\n      default:\n        return [ `Verify ${aspect} configuration and permissions` ];\n    }\n  }"}