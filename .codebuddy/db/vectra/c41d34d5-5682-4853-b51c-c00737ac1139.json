{"chunk":0,"numChunks":1,"fileHash":"WWhPAcDhAWUSX8Vx76TFkC5logU4dfG8RuOMAavKMj8=","filePath":"project-board-sync/test/state-verifier.test.js","content":"const test = require('node:test');\nconst assert = require('node:assert/strict');\nconst { StateVerifier } = require('../src/utils/state-verifier');\nconst { getItemColumn, isItemInProject } = require('../src/github/api');\n\ntest('StateVerifier maintains state between operations', async (t) => {\n  const item = {\n    type: 'PullRequest',\n    number: 99,\n    id: 'PR_123',\n    projectItemId: 'test-id'\n  };\n\n  // Test state initialization\n  const initialState = StateVerifier.getState(item);\n  assert.equal(initialState.column, 'None', 'Initial column should be None');\n  assert.deepEqual(initialState.assignees, [], 'Initial assignees should be empty');\n\n  // Test state updates\n  const updatedState = StateVerifier.updateState(item, { \n    column: 'Active',\n    assignees: ['user1']\n  });\n  \n  assert.equal(updatedState.column, 'Active', 'Column should be updated');\n  assert.deepEqual(updatedState.assignees, ['user1'], 'Assignees should be updated');\n\n  // Verify state persists\n  const persistedState = StateVerifier.getState(item);\n  assert.equal(persistedState.column, 'Active', 'State should persist between calls');\n  assert.deepEqual(persistedState.assignees, ['user1'], 'Assignee state should persist');\n});\n"}