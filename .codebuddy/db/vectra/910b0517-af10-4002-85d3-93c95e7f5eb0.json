{"chunk":0,"numChunks":1,"fileHash":"wjwet/aCdoQ3Cj5ZZpo5t11GS0Qh3Dazn49pmULuxOs=","filePath":"project-board-sync/test/basic-validation.test.js","content":"const test = require('node:test');\nconst assert = require('node:assert/strict');\nconst { RuleValidation } = require('../src/rules/processors/validation');\n\n// Set up test environment\nprocess.env.GITHUB_AUTHOR = 'DerekRoberts';\n\ntest('Basic condition validation works', async (t) => {\n    const validator = new RuleValidation();\n    \n    // Test 1: Author condition\n    const prWithAuthor = {\n        __typename: 'PullRequest',\n        number: 123,\n        author: { login: 'DerekRoberts' }\n    };\n    \n    const result1 = validator.validateItemCondition(prWithAuthor, {\n        type: 'PullRequest',\n        condition: 'monitored.users.includes(item.author)'\n    });\n    assert.equal(result1, true, 'Author condition should pass');\n    \n    // Test 2: Repository condition\n    const prInRepo = {\n        __typename: 'PullRequest',\n        number: 124,\n        repository: { nameWithOwner: 'bcgov/nr-nerds' }\n    };\n    \n    const result2 = validator.validateItemCondition(prInRepo, {\n        type: 'PullRequest',\n        condition: 'monitored.repos.includes(item.repository)'\n    });\n    assert.equal(result2, true, 'Repository condition should pass');\n    \n    // Test 3: Column condition\n    const prNoColumn = {\n        __typename: 'PullRequest',\n        number: 125,\n        column: null\n    };\n    \n    const result3 = validator.validateItemCondition(prNoColumn, {\n        type: 'PullRequest',\n        condition: '!item.column'\n    });\n    assert.equal(result3, true, 'No column condition should pass');\n    \n    console.log('âœ… All basic validation tests passed');\n}); \n"}