{"chunk":0,"numChunks":1,"fileHash":"snCMcFi6goDK4pPgOahHTcs0EsWb04dAqdwBhSH3kIs=","filePath":"project-board-sync/test/rule-processing.test.js","content":"const test = require('node:test');\nconst assert = require('node:assert/strict');\nconst { processBoardItemRules } = require('../src/rules/processors/unified-rule-processor');\n\n// Set up test environment\nprocess.env.GITHUB_AUTHOR = 'test-user';\n\ntest('Rule processing works with basic conditions', async (t) => {\n    // Test item that should match repository condition\n    const testItem = {\n        __typename: 'PullRequest',\n        number: 123,\n        repository: { nameWithOwner: 'bcgov/nr-nerds' },\n        author: { login: 'other-user' },\n        assignees: { nodes: [] }\n    };\n    \n    try {\n        const actions = await processBoardItemRules(testItem);\n        console.log('✅ Rule processing test completed');\n        console.log(`Found ${actions.length} actions for test item`);\n        \n        // Should find at least one action (repository condition)\n        assert(actions.length > 0, 'Should find at least one matching rule');\n        \n        console.log('✅ Rule processing test passed');\n    } catch (error) {\n        console.error('❌ Rule processing test failed:', error.message);\n        throw error;\n    }\n}); \n"}