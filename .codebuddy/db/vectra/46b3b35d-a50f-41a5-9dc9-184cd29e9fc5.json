{"chunk":5,"numChunks":6,"fileHash":"/fglbAKqV+HsiktehwwJomF9L+DQLx85q5xa1/JmU5Y=","filePath":"project-board-sync/test/validation/environment.test.js","content":"const { test } = require('node:test');\ntest('environment validation', async (t) => {\n  await t.test('rejects missing GITHUB_TOKEN', async () => {\n    delete process.env.GITHUB_TOKEN;\n    process.env.GITHUB_AUTHOR = 'DerekRoberts';\n    process.env.PROJECT_ID = 'test-project';\n    \n    try {\n      await validateEnvironment();\n      assert.fail('Should have thrown an error for missing GITHUB_TOKEN');\n    } catch (error) {\n      assert(error.message.includes('Missing required environment variables'), 'Should mention missing variables');\n      assert(error.message.includes('GITHUB_TOKEN'), 'Should mention GITHUB_TOKEN');\n    }\n  });\n  await t.test('loads configuration when valid', async () => {\n    process.env.GITHUB_TOKEN = 'test-token';\n    process.env.GITHUB_AUTHOR = 'DerekRoberts';\n    process.env.PROJECT_ID = 'test-project';\n    \n    try {\n      await validateEnvironment();\n      const { StateVerifier } = require('../../src/utils/state-verifier');\n      assert(StateVerifier.steps.areAllStepsCompleted(), 'All steps should be completed');\n    } catch (error) {\n      // Expected to fail due to invalid token, but should not fail due to setup\n      assert(!error.message.includes('Missing required environment variables'), 'Should not fail due to missing variables');\n    }\n  });"}